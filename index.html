<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Testing</title>
    <script src="library/jquery-2.1.4.min.js"></script>
    <script src="MinimisationSample.js"></script>
    <link rel="stylesheet" href="Style.css" />
    <link rel="stylesheet" href="library/font-awesome-4.5.0/css/font-awesome.min.css">
</head>
<body>
    <div id="studysetup">
        <p class="heading">Choose Investigator Strategies</p>
        Number of investigators:
        <select name="number">
            <option selected="selected">1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
        </select>
        <br />
        <div id="investigators">
            <div class="strategy">
                <a>Investigator 1: </a>
                <br />
                <span class="clickme">
                    <input name="gator0" type="radio" value="random" />Normal
                </span>
                <br />
                <span class="clickme">
                    <input name="gator0" type="radio" value="cheat" />
                    Cheat (computer): patient
                </span>

                <select name="computergator0">
                    <option selected="selected">1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                    <option>10</option>
                    <option>11</option>
                    <option>12</option>
                </select>
                into the
                <select name="computergroupgator0">
                    <option selected="selected" value="treatment">Treatment</option>
                    <option value="control">Control</option>
                </select>
                group.
                <br />
                <span class="clickme">
                    <input name="gator0" type="radio" value="player" checked />
                    Cheat (player): patient
                </span>
                <select name="playergator0">
                    <option selected="selected">1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                    <option>10</option>
                    <option>11</option>
                    <option>12</option>
                </select>
                into the
                <select name="playergroupgator0">
                    <option selected="selected" value="treatment">Treatment</option>
                    <option value="control">Control</option>
                </select>
                group.
            </div>
        </div>
        <p id="settingstitle" class="heading">Choose Game Settings</p>
        <div id="settings">
            Number of patients allowed to be held at once
            <select name="heldpatients">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option selected="selected">5</option>
            </select>
            <br /><br />
            Number of turns patients can be held for
            <select name="heldturns">
                <option value="0">No holding</option>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option selected="selected">4</option>
                <option>5</option>
            </select>
            <br /><br />
            <span class="clickme">
                <input name="playerview" type="radio" value="full" checked />Show everything
            </span>
            <span class="clickme">
                <input name="playerview" type="radio" value="partial" />Show last two events
            </span>
            <br /><br />
            <span class="clickme">
                <input name="autoplay" type="radio" value="false" />Player takes all turns
            </span>
            <span class="clickme">
                <input name="autoplay" type="radio" value="true" checked />
                Player only takes turns that involve a select patient
            </span>
            <br /><br />
            <span class="clickme">
                <input name="minimizeinvestigator" type="checkbox" value="true" />
                Include investigator in minimization
            </span>
            <br /><br />
            <span class="clickme">
                <input name="minimizelength" type="checkbox" />Include the number of
            patients in minimization </span>
            <br /><br />
            <span class="clickme">
                <input name="investigatortiebreak" type="checkbox" checked value="true"/>
            Use investigator balance for tie break</span>
            <br /><br />
            <span class="clickme">
                <input name="usetiebreaksequence" type="checkbox" value="true" />
            Use predetermined tiebreak order</span>
            <input name="tiebreaksequencestr" type="text" placeholder="tiebreak sequence" />
            <i id="tiebreaksequencevalid" class="fa fa-check"></i>
            <br /><br />
            <span class="clickme">
            Minimization algorithm exponent</span>
            <select name="minimizationexponent">
                <option selected="selected">1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
            <br /><br />
            <span class="clickme">
            Number of patients minimized at a time</span>
            <select name="minimizationqueuelength">
                <option value="1" selected="selected">1</option>
                <option value="2" >2</option>
            </select>
            <br /><br />
            <span class="clickme">
                <input name="exportexcel" type="checkbox" value="true" />Export
            Minimization results to Excel</span>
            <br /><br />
            <span class="clickme">
                <input name="dualminimization" type="checkbox" value="true" />
                Use Dual Minimization</span>
        </div>
        <p id="patientstitle" class="heading">Choose patients to be seeded</p>
        <div id="patientssettings">
            <select name="seedtype">
                <option>Predetermined</option>
                <option selected="selected">Random</option>
            </select>
            <br /><br />
            <div id="randompatients">
                <span class="clickme">
                    Number of patients in the study
                    <input name="patientslength" type="text" value="20"/>
                </span>
                <br /><br />
                Patients to include in the randomization:
                <br />
                <span class="clickme">
                    <input name="includeall" type="checkbox" />Include All
                </span>
                <span class="clickme">
                    <input name="includenone" type="checkbox" />Include None
                </span>
                <br />
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="1" checked />Patient 1
                </span>
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="2" checked />Patient 2 &nbsp;
                </span>
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="3" checked />Patient 3 &nbsp;
                </span>
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="4" />Patient 4
                </span>
                <br />
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="5" />Patient 5
                </span>
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="6" />Patient 6 &nbsp;
                </span>
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="7" />Patient 7 &nbsp;
                </span>
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="8" />Patient 8
                </span>
                <br />
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="9" />Patient 9
                </span>
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="10" />Patient 10
                </span>
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="11" />Patient 11
                </span>
                <span class="clickme">
                    <input name="filterpatients" type="checkbox" value="12" />Patient 12
                </span>
            </div>
            <div id="setpatients">
                <span class="clickme">
                    <input name="patientlist" value="standard" type="radio" checked />Standard <br />
                </span>
                <span class="clickme">
                    <input name="patientlist" value="own" type="radio" />My own sequence
                </span>
                <input name="ownsequence" type="text" placeholder="comma separated sequence" />
                <i id="ownseqvalid" class="fa fa-check" ></i><br />
            </div>
        </div>
        <p id="investigatortitle" class="heading">Choose investigator seed order</p>
        <div id="investigatorsettings">
            <select name="gatorseedtype">
                <option selected="selected" value="order">Place in order</option>
                <option value="predetermined">Predetermined</option>
                <option value="random">Random n-block</option>
                <option value="alternate">Alternating</option>
            </select>
            <br />
            <br />
            <div id="randomgators" class="gatorblock">
                Investigators will be given exactly n turns every n * (number of
                investigators) turns of the study.
                <select name="blocksize">
                    <option selected="selected">1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
            <div id="setgators" class="gatorblock">
                Predetermined investigators
                <input name="gatorsequence" type="text" placeholder="comma separated sequence" />
                <i id="gatorsequencevalid" class="fa fa-check"></i>
                <br />
            </div>
            <div id="alternategators" class="gatorblock">
                Investigators will alternate between a descending and ascending
                sequence. e.g. for two investigators 2, 1, 1, 2, 2, 1, 1 ... and
                for three investigators 3, 2, 1, 1, 2, 3, 3, 2, 1, ...
                <br />
                For n investigators we have n, (n - 1), ... 2, 1, 1, 2,  ...
                (n -1), n.
            </div>
        </div>
        <br />
        <input id="importdata" type="text" />
        <input id="import" type="button" value="Import Settings" />
        <br />
        <button id="start">Start Study</button>
    </div>
    <div>
        <div id="tablecontainer">
            <div id="patient">
                <p class="heading">Patient <a id="patientnumber"></a></p>
                <table class="patient">
                    <tr class="patient header">
                        <td colspan="2">Sex</td>
                        <td colspan="3">Age</td>
                        <td colspan="2">Risk</td>
                    </tr>
                    <tr class="patient title">
                        <td>Male</td>
                        <td>Female</td>
                        <td>21-30</td>
                        <td>31-40</td>
                        <td>41-50</td>
                        <td>Low</td>
                        <td>High</td>
                    </tr>
                    <tr class="patient table">
                        <td class="male">0</td>
                        <td class="female">0</td>
                        <td class="young">0</td>
                        <td class="middle">0</td>
                        <td class="old">0</td>
                        <td class="low">0</td>
                        <td class="high">0</td>
                    </tr>
                </table>
                <br />
                Patient sequence <input id="savesequence" type="text" size="5" readonly="readonly" />
                <br />
                Investigator sequence <input id="gatorsavesequence" type="text" size="5" readonly="readonly" />
                <br />
                Tiebreak sequence <input id="tiebreaksequence" type="text" size="5"
                readonly="readonly" />
                All settings <input id="allsettings" type="text" size="5"
                readonly="readonly" />
            </div>
            <div id="study">
                <div id="treatment" class="table">
                    <p class="heading">Treatment Group</p>
                    <table class="maintable">
                        <tr class="treatment header">
                            <td colspan="2">Sex</td>
                            <td colspan="3">Age</td>
                            <td colspan="2">Risk</td>
                            <td class="gator" colspan="1">Investigators</td>
                        </tr>
                        <tr class="treatment title">
                            <td>Male</td>
                            <td>Female</td>
                            <td>21-30</td>
                            <td>31-40</td>
                            <td>41-50</td>
                            <td>Low</td>
                            <td>High</td>
                        </tr>
                        <tr class="treatment table">
                            <td class="male">0</td>
                            <td class="female">0</td>
                            <td class="young">0</td>
                            <td class="middle">0</td>
                            <td class="old">0</td>
                            <td class="low">0</td>
                            <td class="high">0</td>
                        </tr>
                    </table>
                    <table class="totaltable">
                        <tr class="treatment total">
                            <td class="total title">Total Patients</td>
                        </tr>
                        <tr>
                            <td class="total table">0</td>
                        </tr>
                    </table>
                </div>
                <div id="spacer"> </div>
                <div id="control" class="table">
                    <p class="heading">Control Group</p>
                    <table class="maintable">
                        <tr class="control header">
                            <td colspan="2">Sex</td>
                            <td colspan="3">Age</td>
                            <td colspan="2">Risk</td>
                            <td class="gator" colspan="1">Investigators</td>
                        </tr>
                        <tr class="control title">
                            <td>Male</td>
                            <td>Female</td>
                            <td>21-30</td>
                            <td>31-40</td>
                            <td>41-50</td>
                            <td>Low</td>
                            <td>High</td>
                        </tr>
                        <tr class="control table">
                            <td class="male">0</td>
                            <td class="female">0</td>
                            <td class="young">0</td>
                            <td class="middle">0</td>
                            <td class="old">0</td>
                            <td class="low">0</td>
                            <td class="high">0</td>
                        </tr>
                    </table>
                    <table class="totaltable">
                        <tr class="control total">
                            <td class="total title">Total Patients</td>
                        </tr>
                        <tr>
                            <td class="total table">0</td>
                        </tr>
                    </table>
                </div>
            </div>
            <button id="next" style="display:none">Next Patient</button>
            <button id="restart">Restart</button>
        </div>
    </div>
    <div id="frequencydata">
        <table id="treatmentfrequency">
            <tr>
                <td colspan="13">Treatment</td>
            </tr>
            <tr>
                <td></td>
                <td colspan="12">Patient Number</td>
            </tr>
            <tr id="treathead">
                <td>Investigator Number</td>
                <td>1</td>
                <td>2</td>
                <td>3</td>
                <td>4</td>
                <td>5</td>
                <td>6</td>
                <td>7</td>
                <td>8</td>
                <td>9</td>
                <td>10</td>
                <td>11</td>
                <td>12</td>
            </tr>
        </table>
        <table id="controlfrequency">
            <tr>
                <td colspan="13">Control</td>
            </tr>
            <tr>
                <td></td>
                <td colspan="12">Patient Number</td>
            </tr>
            <tr id="controlhead">
                <td>Investigator Number</td>
                <td>1</td>
                <td>2</td>
                <td>3</td>
                <td>4</td>
                <td>5</td>
                <td>6</td>
                <td>7</td>
                <td>8</td>
                <td>9</td>
                <td>10</td>
                <td>11</td>
                <td>12</td>
            </tr>
        </table>
        <br /><br />
        <table id="patientbygroup">
            <tr>
                <td colspan="13">Difference Between Patients</td>
            </tr>
            <tr>
                <td></td>
                <td colspan="12">Patient Number</td>
            </tr>
            <tr id="patbygrouphead">
                <td>Investigator Number</td>
                <td>1</td>
                <td>2</td>
                <td>3</td>
                <td>4</td>
                <td>5</td>
                <td>6</td>
                <td>7</td>
                <td>8</td>
                <td>9</td>
                <td>10</td>
                <td>11</td>
                <td>12</td>
            </tr>
        </table>
        <table>
            <tr>
                <td colspan="8">Difference Between Variates</td>
            </tr>
            <tr>
                <td></td>
                <td colspan="7">Variates</td>
            </tr>
            <tr id="variatebygroup">
                <td></td>
                <td>Male</td>
                <td>Female</td>
                <td>Young</td>
                <td>Middle</td>
                <td>Old</td>
                <td>Low</td>
                <td>High</td>
            </tr>
        </table>
        <table>
            <tr id="streakfrequency">
            </tr>
        </table>
    </div>
    <div id="cards">
       <div id="playerturn">
            <p class="heading">Your Turn (Investigator <a class="playergator"></a>)</p>
            <div class="border">
                <span id="allottedpatient">
                    You were given patient <a class="playerpatient"></a><br />
                    If added to the study the patient would go to the <a class="playergroup"></a> group.<br />
                </span>
                <a class="playerheld"></a><br /><br />
                <table id="gatorheldpatients">
                    <tr class="heldtitle">
                        <td>Number</td>
                        <td>Turns left</td>
                        <td>Group prediction</td>
                        <td>Discard</td>
                        <td>Add</td>
                    </tr>
                </table>
                <br />
                <br />
                <button id="playeradd" class="player actions">Add patient</button>
                <button id="playerhold" class="player actions">Hold patient</button>
                <button id="playerdiscard" class="player actions">Discard patient</button>
                <button id="playerendturn" class="player" style="display:none">End Turn</button>
            </div>
        </div>
        <div id="messages">
            <p class="heading">Messages</p>
            <div class="border">

            </div>
        </div>
    </div>
    <br />
    <br />
    <div id="someupdates">
        <p class="heading">Latest Updates</p>
        <div class="border">
            <p class="headingdate">January 15</p>
            <p class="headingtime">3:28pm</p>
            <ul>
                <li>Excel export now supports dual minimization</li>
            </ul>
            <p class="headingdate">January 14</p>
            <p class="headingtime">3:54pm</p>
            <ul>
                <li>Added option for dual minimization</li>
            </ul>
            <p class="headingdate">January 7</p>
            <p class="headingtime">3:00pm</p>
            <ul>
                <li>Option to export minimization data to spreadsheet</li>
                <li>Stopped automatically minimizing based on size of groups</li>
            </ul>
            <p class="headingdate">December 29</p>
            <p class="headingtime">2:58pm</p>
            <ul>
                <li>Table listing difference in variates by group</li>
                <li>Table displaying the frequency of assignment counts</li>
            </ul>
            <p class="headingdate">December 26</p>
            <p class="headingtime">2:36pm</p>
            <ul>
                <li>zip downloaded from Github is now fully offline compatible</li>
                <li>Option to have investigator break ties</li>
            </ul>
            <p class="headingdate">December 24</p>
            <p class="headingtime">2:55pm</p>
            <ul>
                <li>Added output of tiebreak order</li>
            </ul>
            <p class="headingtime">5:20pm</p>
            <ul>
                <li>Allow user input of tiebreak order</li>
            </ul>
            <p class="headingdate">December 22</p>
            <p class="headingtime">11:57pm</p>
            <ul>
                <li>Added table displaying the number of each patient that went to
                treatment versus control</li>
            </ul>
            <p class="headingdate">August 8</p>
            <p class="headingtime">8:26am</p>
            <ul>
                <li>Added option for alternating order of Investigators</li>
                <li>Fixed description in N-block section</li>
            </ul>
            <p class="headingdate">August 1</p>
            <p class="headingtime">5:09pm</p>
            <ul>
                <li>Added option to stop investigators from holding patients</li>
            </ul>
            <p class="headingdate">July 16</p>
            <p class="headingtime">9:07pm</p>
            <ul>
                <li>Added two tables tallying the frequency of patient number by investigator by group</li>
            </ul>
            <p class="headingdate">July 1</p>
            <p class="headingtime">11:10pm</p>
            <ul>
                <li>Three options for the "stream" of investigators, turns taken in order, turns pre-determined, or turns n-block randomized</li>
            </ul>
            <p class="headingdate">June 30</p>
            <p class="headingtime">8:50pm</p>
            <ul>
                <li>Counter that tracks and then averages the difference between the groups across a study</li>
            </ul>
            <p class="headingdate">June 17</p>
            <p class="headingtime">7:39pm</p>
            <ul>
                <li>Option to have the study wait for two patients before minimizing them together and adding them to the study</li>
            </ul>
            <p class="headingdate">June 6</p>
            <p class="headingtime">2:30pm</p>
            <ul>
                <li>Option to choose the exponent used in summing up category differences</li>
            </ul>
            <p class="headingdate">May 31</p>
            <p class="headingtime">11:50am</p>
            <ul>
                <li>Corrected bug causing Normal and Player strategies to double count patients</li>
            </ul>
            <p class="headingdate">May 30</p>
            <p class="headingtime">12:00am</p>
            <ul>
                <li>Held Patients should now be placed in order of decreasing turns</li>
                <li>Select Patients now display an alphabetical tag next to their name for easier tracking</li>
            </ul>
            <p class="headingtime">10:15pm</p>
            <ul>
                <li>Cheater will no longer sacrifice select patients to non target group</li>
                <li>Updated hold patient method (should function the same)</li>
            </ul>
            <p class="headingtime">4:09pm</p>
            <ul>
                <li>Cheater nonTargetScore updating fix</li>
            </ul>
            <p class="headingtime">3:40pm</p>
            <ul>
                <li>Regular investigator now keeps track of select patients given</li>
            </ul>
            <p class="headingtime">3:02pm</p>
            <ul>
                <li>Cheater tries harder to get held patients in</li>
                <li>Added counter that keeps track of the number of select patients received</li>
            </ul>
            <p class="headingtime">2:45pm</p>
            <ul>
                <li>Game can now read in custom sequences</li>
                <li>Game now displays the randomely generated sequence</li>
                <li>Cheater algorithm now longer sacrifices patients in the case of a tie</li>
            </ul>
            <p class="headingdate">May 29</p>
            <ul>
                <li>Cheater algorithm now attempts to "sacrifice" held patients to get a select patient in</li>
                <li>Created github hosted website</li>
            </ul>
        </div>
    </div>
    </body>
</html>
